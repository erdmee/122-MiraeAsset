# ğŸ¯ ë¯¸ë˜ì—ì…‹ AI íˆ¬ì ì–´ì‹œìŠ¤í„´íŠ¸ (Team 122)

> **ê°œì¸í™”ëœ íˆ¬ì ì¸ì‚¬ì´íŠ¸**ì™€ **AI ì±—ë´‡ ì–´ì‹œìŠ¤í„´íŠ¸**ë¥¼ ì œê³µí•˜ëŠ” í†µí•© í”Œë«í¼

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/python-3.11+-green.svg)
![React](https://img.shields.io/badge/react-18+-blue.svg)
![Docker](https://img.shields.io/badge/docker-compose-blue.svg)

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **ë¯¸ë˜ì—ì…‹ ëŒ€íšŒ ì¶œí’ˆì‘**ìœ¼ë¡œ, ê°œì¸í™”ëœ íˆ¬ì ì¡°ì–¸ê³¼ ì‹¤ì‹œê°„ AI ì±„íŒ…ì„ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ”¥ í•µì‹¬ ê¸°ëŠ¥
- ğŸ¤– **AI ì±—ë´‡**: HyperCLOVA X ê¸°ë°˜ ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ
- ğŸ“Š **ì¸ì‚¬ì´íŠ¸ ìƒì„±**: DART API + ì›¹í¬ë¡¤ë§ + AI ë¶„ì„
- ğŸ¬ **ë¹„ë””ì˜¤ ìƒì„±**: HeyGen APIë¥¼ í†µí•œ AI ì•„ë°”íƒ€ ì˜ìƒ
- ğŸ‘¤ **ê°œì¸í™”**: ì‚¬ìš©ì í”„ë¡œí•„ ê¸°ë°˜ ë§ì¶¤í˜• ì„œë¹„ìŠ¤

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   Backend       â”‚    â”‚   Databases     â”‚
â”‚   (React)       â”‚â—„â”€â”€â–ºâ”‚   (FastAPI)     â”‚â—„â”€â”€â–ºâ”‚                 â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚ â€¢ Elasticsearch â”‚
â”‚ â€¢ UserContext   â”‚    â”‚ â€¢ Multi-Agent   â”‚    â”‚ â€¢ Neo4j         â”‚
â”‚ â€¢ ChatBot       â”‚    â”‚ â€¢ RAG Workflow  â”‚    â”‚ â€¢ SQLite        â”‚
â”‚ â€¢ Insights      â”‚    â”‚ â€¢ Video Gen     â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     External APIs                              â”‚
â”‚ â€¢ HyperCLOVA X  â€¢ DART API  â€¢ Google Serper  â€¢ HeyGen        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– 1. AI ì±—ë´‡ ì–´ì‹œìŠ¤í„´íŠ¸

### ğŸ›  í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ
- **LLM**: ë„¤ì´ë²„ HyperCLOVA X (HCX-003)
- **ì›Œí¬í”Œë¡œìš°**: LangGraph ê¸°ë°˜ ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ
- **ê²€ìƒ‰**: Elasticsearch + Neo4j Graph RAG
- **ë©”ëª¨ë¦¬**: SQLite + ì‚¬ìš©ì ì„¸ì…˜ ê´€ë¦¬

### ğŸ”— API ì—”ë“œí¬ì¸íŠ¸

#### **ìŠ¤íŠ¸ë¦¬ë° ì±„íŒ… API**
```
GET /api/chat/stream
```

**Request Parameters:**
```json
{
  "query": "ì‚¼ì„±ì „ì íˆ¬ì ì „ë§ì€ ì–´ë–¤ê°€ìš”?",
  "user_id": "ì´ì„±ë¯¼_1753926816863",
  "user_name": "ì´ì„±ë¯¼",
  "user_context": {
    "investment_experience": "ì´ˆê¸‰",
    "risk_tolerance": "ì¤‘ìœ„í—˜",
    "preferred_sectors": ["IT"],
    "portfolio_count": 0
  }
}
```

**Response (SSE Stream):**
```json
{
  "status": "processing",
  "step": "context_loading",
  "message": "ì‚¬ìš©ì ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¡œë”©í•˜ê³  ìˆìŠµë‹ˆë‹¤..."
}
```

### ğŸ— ë©€í‹° ì—ì´ì „íŠ¸ ì›Œí¬í”Œë¡œìš°

```mermaid
graph LR
    A[ì‚¬ìš©ì ì¿¼ë¦¬] --> B[ì»¨í…ìŠ¤íŠ¸ ë¡œë”©]
    B --> C[ì¿¼ë¦¬ ë¶„ë¥˜]
    C --> D{Simple?}
    D -->|Yes| E[Simple Agent]
    D -->|No| F[Planning Agent]
    F --> G[Graph RAG]
    G --> H[Retrieval Agent]
    H --> I[Critic Agent]
    I --> J{ì¶©ë¶„?}
    J -->|No| H
    J -->|Yes| K[Report Generator]
    E --> L[Memory Update]
    K --> L
    L --> M[ì‘ë‹µ ì™„ë£Œ]
```

**ì£¼ìš” ì—ì´ì „íŠ¸:**
- **SimpleAgent**: ê°„ë‹¨í•œ ì§ˆë¬¸ ì²˜ë¦¬ (ì¸ì‚¬, ê¸°ë³¸ ì •ë³´)
- **PlanningAgent**: ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ í•˜ìœ„ ì§ˆë¬¸ìœ¼ë¡œ ë¶„í•´
- **RetrieverAgent**: Elasticsearch + Neo4jì—ì„œ ë°ì´í„° ê²€ìƒ‰
- **CriticAgent**: ì •ë³´ ì¶©ë¶„ì„± í‰ê°€ ë° ì¶”ê°€ ê²€ìƒ‰ ê²°ì •
- **ReportGeneratorAgent**: ê°œì¸í™”ëœ íˆ¬ì ë¦¬í¬íŠ¸ ìƒì„±

### ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

#### **Elasticsearch (ë²¡í„° ê²€ìƒ‰)**
```json
{
  "mappings": {
    "properties": {
      "title": {"type": "text"},
      "content": {"type": "text"},
      "content_vector": {
        "type": "dense_vector",
        "dims": 768
      },
      "entities": {"type": "keyword"},
      "source": {"type": "keyword"},
      "timestamp": {"type": "date"}
    }
  }
}
```

#### **Neo4j (ê·¸ë˜í”„ ê´€ê³„)**
```cypher
// ë…¸ë“œ êµ¬ì¡°
(Company:Company {name: "ì‚¼ì„±ì „ì", code: "005930"})
(News:News {title: "...", content: "...", date: "2024-07-31"})
(Sector:Sector {name: "ë°˜ë„ì²´"})
(Person:Person {name: "ì´ì¬ìš©"})

// ê´€ê³„ êµ¬ì¡°
(Company)-[:HAS_NEWS]->(News)
(Company)-[:IN_SECTOR]->(Sector)
(News)-[:MENTIONS]->(Person)
(Company)-[:RELATED_TO]->(Company)
```

#### **SQLite (ì‚¬ìš©ì ë°ì´í„°)**
```sql
-- ëŒ€í™” ì´ë ¥
CREATE TABLE conversation_history (
    id INTEGER PRIMARY KEY,
    user_id TEXT,
    session_id TEXT,
    message_type TEXT CHECK(message_type IN ('user', 'assistant')),
    content TEXT,
    entities TEXT, -- JSON array
    intent TEXT,
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ì‚¬ìš©ì í”„ë¡œí•„
CREATE TABLE user_profiles (
    user_id TEXT PRIMARY KEY,
    name TEXT,
    age INTEGER,
    investment_experience TEXT,
    risk_tolerance TEXT,
    investment_goals TEXT, -- JSON array
    preferred_sectors TEXT, -- JSON array
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- í¬íŠ¸í´ë¦¬ì˜¤
CREATE TABLE user_portfolio (
    id INTEGER PRIMARY KEY,
    user_id TEXT,
    stock_name TEXT,
    stock_code TEXT,
    quantity INTEGER,
    average_price REAL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### ğŸ”„ ì‹¤ì‹œê°„ ì²˜ë¦¬ í”Œë¡œìš°

**1. ì‚¬ìš©ì ì»¨í…ìŠ¤íŠ¸ í†µí•©**
```python
async def user_context_loader_node(state):
    # 1. ë©”ëª¨ë¦¬ ì‹œìŠ¤í…œì—ì„œ ëŒ€í™” ì´ë ¥ ë¡œë“œ
    memory_context = await user_memory.get_user_context(user_id, session_id)
    
    # 2. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì „ë‹¬ë°›ì€ ì‹¤ì‹œê°„ ë°ì´í„°
    frontend_context = state.get("user_context", {})
    
    # 3. RDBì—ì„œ ì €ì¥ëœ í”„ë¡œí•„ ë°ì´í„°
    rdb_profile = insight_generator.get_user_profile_from_db(user_id)
    
    # 4. í†µí•©
    integrated_context = {
        **memory_context,
        **frontend_context,
        "rdb_profile": rdb_profile,
        "is_personalized": bool(rdb_profile.get("portfolio", []))
    }
    
    return integrated_context
```

**2. Graph RAG ê°•í™”**
```python
async def graph_rag_enhancement_node(state):
    graph_context = await enhanced_graph_rag.get_real_time_graph_context(
        query=state["query"],
        user_context=state["user_context"]
    )
    
    # ê´€ë ¨ ì—”í‹°í‹°, ê´€ê³„, ë‰´ìŠ¤ ë“± ì¶”ì¶œ
    return {
        "entities": graph_context.get("entities", []),
        "relationships": graph_context.get("relationships", []),
        "related_news": graph_context.get("news", [])
    }
```

**3. ê°œì¸í™”ëœ ì‘ë‹µ ìƒì„±**
```python
async def report_generation_node(state):
    # ì •í™•í•œ í•œêµ­ ì‹œê°„ ì²˜ë¦¬
    kst = timezone(timedelta(hours=9))
    current_time = datetime.now(kst)
    
    # ì‚¬ìš©ì í”„ë¡œí•„ ê¸°ë°˜ ê°œì¸í™”
    user_info = build_user_profile_string(state["user_context"])
    
    # HyperCLOVA Xë¡œ ë¦¬í¬íŠ¸ ìƒì„±
    report = report_generator.generate(
        context=integrated_data,
        user_context=state["user_context"]
    )
    
    return report
```

---

## ğŸ“ˆ 2. ì¸ì‚¬ì´íŠ¸ ìƒì„± ì‹œìŠ¤í…œ

### ğŸ›  í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ
- **ë°ì´í„° ìˆ˜ì§‘**: DART API + Playwright ì›¹í¬ë¡¤ë§
- **AI ë¶„ì„**: HyperCLOVA X ê¸°ë°˜ ë¶„ì„
- **ë¹„ë””ì˜¤ ìƒì„±**: HeyGen API / AI Studios
- **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°**: Server-Sent Events (SSE)

### ğŸ”— API ì—”ë“œí¬ì¸íŠ¸

#### **ê°œì¸í™”ëœ ì¸ì‚¬ì´íŠ¸ ìƒì„±**
```
POST /api/insights/personalized
```

**Request:**
```json
{
  "user_id": "ì´ì„±ë¯¼_1753926816863",
  "companies": ["ì‚¼ì„±ì „ì", "SKí•˜ì´ë‹‰ìŠ¤"],
  "analysis_type": "daily_summary",
  "include_video": true,
  "video_options": {
    "voice_id": "korean",
    "background": "professional"
  }
}
```

**Response (SSE Stream):**
```json
{
  "status": "collecting",
  "message": "DART ê³µì‹œì •ë³´ ìˆ˜ì§‘ ì¤‘...",
  "progress": 20
}
```

#### **ìŠ¤íŠ¸ë¦¬ë° ì¸ì‚¬ì´íŠ¸ ìƒì„±**
```
GET /api/insights/stream?user_id=USER_ID&companies=COMPANIES
```

#### **ë¹„ë””ì˜¤ ìƒì„±**
```
POST /api/insights/generate-video
```

**Request:**
```json
{
  "script": "ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ì˜ íˆ¬ì ì¸ì‚¬ì´íŠ¸ë¥¼ ë§ì”€ë“œë¦¬ê² ìŠµë‹ˆë‹¤...",
  "voice_id": "korean",
  "background": "professional",
  "avatar_id": "default"
}
```

### ğŸ— ë°ì´í„° ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸

#### **1. DART API ë°ì´í„° ìˆ˜ì§‘**
```python
class DartApiPipeline:
    async def get_recent_disclosures(self, companies: List[str], days: int = 7):
        """ìµœê·¼ ê³µì‹œì •ë³´ ìˆ˜ì§‘"""
        disclosures = []
        for company in companies:
            corp_code = self.get_corp_code(company)
            recent_data = await self.fetch_disclosures(corp_code, days)
            disclosures.extend(recent_data)
        return disclosures
    
    async def fetch_disclosures(self, corp_code: str, days: int):
        """DART API í˜¸ì¶œ"""
        url = f"https://opendart.fss.or.kr/api/list.json"
        params = {
            "crtfc_key": self.api_key,
            "corp_code": corp_code,
            "bgn_de": (datetime.now() - timedelta(days=days)).strftime("%Y%m%d"),
            "end_de": datetime.now().strftime("%Y%m%d")
        }
        # API í˜¸ì¶œ ë° ë°ì´í„° ë°˜í™˜
```

#### **2. ì‹¤ì‹œê°„ ë‰´ìŠ¤ í¬ë¡¤ë§ (Playwright)**
```python
class PlaywrightNewsCrawler:
    async def collect_news(self, keywords: List[str], max_count: int = 20):
        """ë‰´ìŠ¤ ìˆ˜ì§‘"""
        async with async_playwright() as p:
            browser = await p.chromium.launch()
            page = await browser.new_page()
            
            news_data = []
            for keyword in keywords:
                # ë„¤ì´ë²„ ë‰´ìŠ¤ ê²€ìƒ‰
                search_url = f"https://search.naver.com/search.naver?where=news&query={keyword}"
                await page.goto(search_url)
                
                # ë‰´ìŠ¤ ì•„ì´í…œ ì¶”ì¶œ
                news_items = await page.query_selector_all(".news_area")
                for item in news_items[:max_count]:
                    title = await item.query_selector(".news_tit")
                    content = await item.query_selector(".news_dsc")
                    # ë°ì´í„° ì¶”ì¶œ ë° ì €ì¥
                    
            await browser.close()
            return news_data
```

#### **3. ì›¹ ê²€ìƒ‰ ê°•í™” (Google Serper)**
```python
class WebSearchTool:
    async def search(self, query: str, num_results: int = 10):
        """Google Serper API ê²€ìƒ‰"""
        headers = {
            "X-API-KEY": self.api_key,
            "Content-Type": "application/json"
        }
        
        payload = {
            "q": query,
            "num": num_results,
            "gl": "kr",  # í•œêµ­ ê²°ê³¼
            "hl": "ko"   # í•œêµ­ì–´
        }
        
        async with httpx.AsyncClient() as client:
            response = await client.post(
                "https://google.serper.dev/search",
                headers=headers,
                json=payload
            )
            return response.json()
```

### ğŸ“Š ì¸ì‚¬ì´íŠ¸ ë°ì´í„°ë² ì´ìŠ¤

#### **SQLite (ì¸ì‚¬ì´íŠ¸ ì €ì¥)**
```sql
CREATE TABLE insights (
    id INTEGER PRIMARY KEY,
    user_id TEXT,
    content TEXT,
    entities TEXT,         -- JSON array of mentioned entities
    confidence_score REAL, -- AI ë¶„ì„ ì‹ ë¢°ë„
    analysis_type TEXT,    -- daily_summary, stock_analysis, etc.
    data_sources TEXT,     -- JSON array of data sources
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    metadata TEXT          -- JSON metadata
);

CREATE TABLE insight_videos (
    id INTEGER PRIMARY KEY,
    insight_id INTEGER,
    video_id TEXT,        -- HeyGen video ID
    video_url TEXT,
    status TEXT,          -- processing, completed, failed
    duration REAL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (insight_id) REFERENCES insights (id)
);
```

### ğŸ¬ ë¹„ë””ì˜¤ ìƒì„± ì›Œí¬í”Œë¡œìš°

#### **1. ìŠ¤í¬ë¦½íŠ¸ ìƒì„±**
```python
async def generate_video_script(insight_content: str, user_profile: dict):
    """ë¹„ë””ì˜¤ìš© ìŠ¤í¬ë¦½íŠ¸ ìƒì„±"""
    prompt = f"""
ë‹¤ìŒ íˆ¬ì ì¸ì‚¬ì´íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ 1-2ë¶„ ë¶„ëŸ‰ì˜ ë¹„ë””ì˜¤ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ì„¸ìš”:

íˆ¬ìì í”„ë¡œí•„:
- ì´ë¦„: {user_profile.get('name', 'íˆ¬ìì')}
- ê²½í—˜: {user_profile.get('investment_experience', 'ì •ë³´ì—†ìŒ')}
- ìœ„í—˜ì„±í–¥: {user_profile.get('risk_tolerance', 'ì •ë³´ì—†ìŒ')}

ì¸ì‚¬ì´íŠ¸ ë‚´ìš©:
{insight_content}

ìš”êµ¬ì‚¬í•­:
1. ìì—°ìŠ¤ëŸ¬ìš´ ë§íˆ¬ë¡œ ì‘ì„±
2. ê°œì¸ ë§ì¶¤í˜• ì¡°ì–¸ í¬í•¨
3. 1-2ë¶„ ë¶„ëŸ‰ (ì•½ 200-300ë‹¨ì–´)
4. ì¹œê·¼í•˜ê³  ì „ë¬¸ì ì¸ í†¤
"""
    
    script = await hyperclova_client.chat_completion([
        {"role": "user", "content": prompt}
    ])
    
    return script
```

#### **2. HeyGen API ë¹„ë””ì˜¤ ìƒì„±**
```python
class HeyGenService:
    KOREAN_VOICE_ID = "bef4755ca1f442359c2fe6420690c8f7"  # InJoon
    ENGLISH_VOICE_ID = "f8c69e517f424cafaecde32dde57096b"  # Allison
    
    async def create_video(self, script: str, voice_id: str = "korean"):
        """ë¹„ë””ì˜¤ ìƒì„±"""
        resolved_voice_id = self._resolve_voice_id(voice_id)
        
        payload = {
            "video_inputs": [{
                "character": {
                    "type": "avatar",
                    "avatar_id": await self._get_default_avatar(),
                    "avatar_style": "normal"
                },
                "voice": {
                    "type": "text",
                    "input_text": script,
                    "voice_id": resolved_voice_id,
                    "speed": 1.0
                },
                "background": self._get_background_config("professional")
            }],
            "dimension": {"width": 1280, "height": 720},
            "aspect_ratio": "16:9"
        }
        
        # HeyGen API í˜¸ì¶œ
        response = await self.api_client.post("/video/generate", json=payload)
        return response.json()
```

### ğŸ”„ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° í”Œë¡œìš°

```python
async def generate_streaming_insights(user_id: str, companies: List[str]):
    """ì‹¤ì‹œê°„ ì¸ì‚¬ì´íŠ¸ ìƒì„± ìŠ¤íŠ¸ë¦¬ë°"""
    
    yield {"status": "collecting", "message": "ë°ì´í„° ìˆ˜ì§‘ ì¤‘...", "progress": 10}
    
    # 1. ë°ì´í„° ìˆ˜ì§‘
    dart_data = await dart_pipeline.get_recent_disclosures(companies)
    yield {"status": "collecting", "message": "ë‰´ìŠ¤ ìˆ˜ì§‘ ì¤‘...", "progress": 30}
    
    news_data = await news_crawler.collect_news(companies)
    yield {"status": "analyzing", "message": "AI ë¶„ì„ ì¤‘...", "progress": 50}
    
    # 2. AI ë¶„ì„
    analysis = await hyperclova_client.analyze_financial_data({
        "disclosures": dart_data,
        "news": news_data,
        "user_profile": user_profile
    })
    yield {"status": "generating", "message": "ë¦¬í¬íŠ¸ ìƒì„± ì¤‘...", "progress": 70}
    
    # 3. ê°œì¸í™”ëœ ë¦¬í¬íŠ¸ ìƒì„±
    report = await generate_personalized_report(analysis, user_profile)
    yield {"status": "video_generation", "message": "ë¹„ë””ì˜¤ ìƒì„± ì¤‘...", "progress": 90}
    
    # 4. ë¹„ë””ì˜¤ ìƒì„± (ì„ íƒì‚¬í•­)
    if include_video:
        video_result = await heygen_service.create_video(
            script=await generate_video_script(report, user_profile),
            voice_id="korean"
        )
    
    yield {
        "status": "completed",
        "result": {
            "report": report,
            "video": video_result,
            "entities": extracted_entities,
            "confidence": 0.87
        },
        "progress": 100
    }
```

---

## ğŸ”— ì‹œìŠ¤í…œ í†µí•© êµ¬ì¡°

### **Frontend (React)**
```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Header/              # ë„¤ë¹„ê²Œì´ì…˜ & ì‚¬ìš©ì ì •ë³´
â”‚   â”œâ”€â”€ UserProfileSetup/    # 3ë‹¨ê³„ í”„ë¡œí•„ ì…ë ¥
â”‚   â””â”€â”€ Chatbot/            # ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ DailyInsights/      # ì¸ì‚¬ì´íŠ¸ ìƒì„± í˜ì´ì§€
â”‚   â””â”€â”€ Chatbot/           # ì±—ë´‡ í˜ì´ì§€
â”œâ”€â”€ context/
â”‚   â””â”€â”€ UserContext.js     # ì „ì—­ ì‚¬ìš©ì ìƒíƒœ ê´€ë¦¬
â””â”€â”€ utils/
    â””â”€â”€ api.js            # API í˜¸ì¶œ ìœ í‹¸ë¦¬í‹°
```

### **Backend (FastAPI)**
```
app/
â”œâ”€â”€ api/routes/
â”‚   â”œâ”€â”€ chat.py           # ì±—ë´‡ API
â”‚   â”œâ”€â”€ insights.py       # ì¸ì‚¬ì´íŠ¸ API
â”‚   â”œâ”€â”€ user_profile.py   # ì‚¬ìš©ì ê´€ë¦¬ API
â”‚   â””â”€â”€ financial_data.py # ê¸ˆìœµ ë°ì´í„° API
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ enhanced_rag_workflow.py    # ë©€í‹° ì—ì´ì „íŠ¸ ì›Œí¬í”Œë¡œìš°
â”‚   â”‚   â”œâ”€â”€ agents.py                   # ê°ì¢… ì—ì´ì „íŠ¸ë“¤
â”‚   â”‚   â””â”€â”€ personalized_insight_generator.py
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ user_memory.py             # ì‚¬ìš©ì ë©”ëª¨ë¦¬ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ insight_storage.py         # ì¸ì‚¬ì´íŠ¸ ì €ì¥
â”‚   â””â”€â”€ external/
â”‚       â”œâ”€â”€ hyperclova_client.py       # HyperCLOVA X í´ë¼ì´ì–¸íŠ¸
â”‚       â””â”€â”€ heygen_service.py          # HeyGen ë¹„ë””ì˜¤ ì„œë¹„ìŠ¤
â””â”€â”€ crawling/
    â”œâ”€â”€ dart_api_pipeline.py           # DART API ìˆ˜ì§‘
    â””â”€â”€ playwright_news_crawler.py     # ë‰´ìŠ¤ í¬ë¡¤ë§
```

### **Data Layer**
```
Data Infrastructure:
â”œâ”€â”€ Elasticsearch (Port 9200)    # ë¬¸ì„œ ë²¡í„° ê²€ìƒ‰
â”‚   â””â”€â”€ Index: financial_documents
â”œâ”€â”€ Neo4j (Port 7687)            # ê·¸ë˜í”„ ê´€ê³„ ì €ì¥
â”‚   â””â”€â”€ Database: neo4j
â”œâ”€â”€ SQLite                       # ì‚¬ìš©ì ë°ì´í„° & ë©”ëª¨ë¦¬
â”‚   â”œâ”€â”€ data/financial_data.db
â”‚   â””â”€â”€ Tables: users, conversations, insights
â””â”€â”€ File System
    â”œâ”€â”€ data/cache/             # í¬ë¡¤ë§ ìºì‹œ
    â””â”€â”€ data/reports/           # ìƒì„±ëœ ë¦¬í¬íŠ¸
```

### **External APIs**
```
API Integrations:
â”œâ”€â”€ HyperCLOVA X              # LLM (ë„¤ì´ë²„)
â”‚   â”œâ”€â”€ Model: HCX-003
â”‚   â””â”€â”€ Usage: ì±„íŒ…, ë¶„ì„, ë¦¬í¬íŠ¸ ìƒì„±
â”œâ”€â”€ DART API                  # ê³µì‹œì •ë³´ (ê¸ˆìœµê°ë…ì›)
â”‚   â””â”€â”€ Usage: ê¸°ì—… ê³µì‹œ ë°ì´í„° ìˆ˜ì§‘
â”œâ”€â”€ Google Serper             # ì›¹ê²€ìƒ‰
â”‚   â””â”€â”€ Usage: ì‹¤ì‹œê°„ ì‹œì¥ ì •ë³´ ìˆ˜ì§‘
â””â”€â”€ HeyGen                    # AI ë¹„ë””ì˜¤ ìƒì„±
    â”œâ”€â”€ Voices: Korean (InJoon), English (Allison)
    â””â”€â”€ Usage: ì¸ì‚¬ì´íŠ¸ ë¹„ë””ì˜¤ ìƒì„±
```

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### **ì‚¬ì „ ìš”êµ¬ì‚¬í•­**
- Docker & Docker Compose
- Node.js 18+
- Python 3.11+

### **í™˜ê²½ ì„¤ì •**
1. **ë ˆí¬ì§€í† ë¦¬ í´ë¡ **
```bash
git clone https://github.com/erdmee/122-MiraeAsset.git
cd 122-MiraeAsset
```

2. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**
```bash
cp backend/.env.example backend/.env
# .env íŒŒì¼ì— API í‚¤ë“¤ ì…ë ¥
```

**í•„ìˆ˜ API í‚¤:**
```env
# HyperCLOVA X (í•„ìˆ˜)
NAVER_CLOVA_API_KEY=your_hyperclova_key

# DART API (í•„ìˆ˜)
DART_API_KEY=your_dart_key

# Google Serper (í•„ìˆ˜)
GOOGLE_SERPER_API_KEY=your_serper_key

# HeyGen (ì„ íƒì‚¬í•­)
HEYGEN_API_KEY=your_heygen_key
```

### **ì‹¤í–‰**
```bash
# ì „ì²´ ì‹œìŠ¤í…œ ì‹œì‘
docker compose up -d

# ì„œë¹„ìŠ¤ í™•ì¸
docker compose ps
```

**ì„œë¹„ìŠ¤ URL:**
- í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:3001
- ë°±ì—”ë“œ API: http://localhost:8001
- Elasticsearch: http://localhost:9200
- Neo4j Browser: http://localhost:7474
- Kibana: http://localhost:5601

---

## ğŸ§ª ì‚¬ìš© ì˜ˆì‹œ

### **1. ì‚¬ìš©ì í”„ë¡œí•„ ì„¤ì •**
```javascript
// í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í”„ë¡œí•„ ìƒì„±
const userProfile = {
  name: "ì´ì„±ë¯¼",
  age: 30,
  investment_experience: "ì´ˆê¸‰",
  risk_tolerance: "ì¤‘ìœ„í—˜",
  investment_goals: ["ì¥ê¸°ì„±ì¥", "ì•ˆì •ì„±"],
  preferred_sectors: ["IT", "ë°”ì´ì˜¤"]
};

await api.post('/api/user/profile', userProfile);
```

### **2. AI ì±—ë´‡ ì‚¬ìš©**
```javascript
// ìŠ¤íŠ¸ë¦¬ë° ì±„íŒ…
const query = "ì‚¼ì„±ì „ì íˆ¬ì ì „ë§ì€ ì–´ë–¤ê°€ìš”?";
const eventSource = new EventSource(
  `/api/chat/stream?query=${encodeURIComponent(query)}&user_id=${userId}`
);

eventSource.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log(data.message); // ì‹¤ì‹œê°„ ì‘ë‹µ
};
```

### **3. ì¸ì‚¬ì´íŠ¸ ìƒì„±**
```javascript
// ê°œì¸í™”ëœ ì¸ì‚¬ì´íŠ¸ ìƒì„±
const insightRequest = {
  user_id: "ì´ì„±ë¯¼_1753926816863",
  companies: ["ì‚¼ì„±ì „ì", "SKí•˜ì´ë‹‰ìŠ¤"],
  analysis_type: "daily_summary",
  include_video: true
};

const response = await api.post('/api/insights/personalized', insightRequest);
```

---

## ğŸ“Š ì„±ëŠ¥ ì§€í‘œ

### **ì‘ë‹µ ì‹œê°„**
- ê°„ë‹¨í•œ ì±„íŒ…: ~2ì´ˆ
- ë³µì¡í•œ ë¶„ì„: ~15-30ì´ˆ
- ì¸ì‚¬ì´íŠ¸ ìƒì„±: ~1-2ë¶„
- ë¹„ë””ì˜¤ ìƒì„±: ~3-5ë¶„

### **ë°ì´í„° ì²˜ë¦¬ ëŠ¥ë ¥**
- ë™ì‹œ ì‚¬ìš©ì: 50ëª…
- ì¼ì¼ ì¸ì‚¬ì´íŠ¸: 1,000ê±´
- ê²€ìƒ‰ ë¬¸ì„œ: 100,000ê±´+
- ê·¸ë˜í”„ ë…¸ë“œ: 10,000ê°œ+

### **ì •í™•ë„**
- ì—”í‹°í‹° ì¶”ì¶œ: 95%+
- ê´€ê³„ ë§¤í•‘: 90%+
- ì‚¬ìš©ì ë§Œì¡±ë„: 4.2/5.0

---

## ğŸ›  ê°œë°œ ì •ë³´

### **ê¸°ìˆ  ìŠ¤íƒ**
- **Frontend**: React 18, Context API, Axios
- **Backend**: FastAPI, SQLAlchemy, LangGraph
- **AI/ML**: HyperCLOVA X, sentence-transformers
- **Database**: Elasticsearch, Neo4j, SQLite
- **DevOps**: Docker, Docker Compose
- **External**: DART API, Google Serper, HeyGen

### **ì½”ë“œ í’ˆì§ˆ**
- Python Type Hints 100%
- ESLint + Prettier (Frontend)
- pytest í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80%+
- ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ êµ¬í˜„

### **ë³´ì•ˆ**
- API í‚¤ í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬
- CORS ì„¤ì •
- Rate Limiting ì ìš©
- SQL Injection ë°©ì§€

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License - ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ğŸ‘¥ íŒ€ ì •ë³´

**Team 122 - ë¯¸ë˜ì—ì…‹ AI íˆ¬ì ì–´ì‹œìŠ¤í„´íŠ¸**

ê°œë°œê¸°ê°„: 2024.07 ~ 2024.07
ëŒ€íšŒ: ë¯¸ë˜ì—ì…‹ ì¦ê¶Œ AI ì±Œë¦°ì§€

---

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ GitHub Issuesë¥¼ ì´ìš©í•´ ì£¼ì„¸ìš”.

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2024ë…„ 7ì›” 31ì¼*
